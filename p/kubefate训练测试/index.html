<!doctype html><html lang=en-us dir=ltr>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="kubefate训练测试"><title>kubefate训练测试</title>
<link rel=canonical href=https://mkbooks.github.io/blog/p/kubefate%E8%AE%AD%E7%BB%83%E6%B5%8B%E8%AF%95/>
<link rel=stylesheet href=/blog/scss/style.min.ac77dcf8b111b51da39a92990f431923f210f3876d85798a2125667f96dc33a4.css><meta property="og:title" content="kubefate训练测试">
<meta property="og:description" content="kubefate训练测试">
<meta property="og:url" content="https://mkbooks.github.io/blog/p/kubefate%E8%AE%AD%E7%BB%83%E6%B5%8B%E8%AF%95/">
<meta property="og:site_name" content="我的空间">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="kubefate"><meta property="article:published_time" content="2022-08-31T15:27:18+08:00"><meta property="article:modified_time" content="2022-08-31T00:00:00+00:00">
<meta name=twitter:title content="kubefate训练测试">
<meta name=twitter:description content="kubefate训练测试">
</head>
<body class=article-page>
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky">
<button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box>
<span class=hamburger-inner></span>
</span>
</button>
<header>
<figure class=site-avatar>
<a href=/blog/>
<img src=/blog/img/1_hu8b5a3db4a21c8e092ed8817bbbdf793a_61250_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a>
<span class=emoji>🍥</span>
</figure>
<div class=site-meta>
<h1 class=site-name><a href=/blog>我的空间</a></h1>
<h2 class=site-description>常香玉&陈金鑫.</h2>
</div>
</header><ol class=social-menu>
<li>
<a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
</a>
</li>
<li>
<a href=https://twitter.com target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg>
</a>
</li>
</ol><ol class=menu id=main-menu>
<li>
<a href=/blog/blog/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span>
</a>
</li>
<li>
<a href=/blog/blog/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span>
</a>
</li>
<li>
<a href=/blog/blog/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span>
</a>
</li>
<li>
<a href=/blog/blog/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span>
</a>
</li>
<li>
<a href=/blog/blog/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span>
</a>
</li>
<div class=menu-bottom-section>
<li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://mkbooks.github.io/blog/en/>English</option><option value=https://mkbooks.github.io/blog/ selected>中文</option></select>
</li>
<li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span>
</li>
</div>
</ol>
</aside>
<main class="main full-width">
<article class=main-article>
<header class=article-header>
<div class=article-details>
<header class=article-category>
<a href=/blog/categories/kubefate/>
kubefate
</a>
</header>
<div class=article-title-wrapper>
<h2 class=article-title>
<a href=/blog/p/kubefate%E8%AE%AD%E7%BB%83%E6%B5%8B%E8%AF%95/>kubefate训练测试</a>
</h2>
<h3 class=article-subtitle>
kubefate训练测试
</h3>
</div>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 31, 2022</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
阅读时长: 7 分钟
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<h1 id=多方连接测试>多方连接测试</h1>
<p>1: Party-9999和Party-10000</p>
<p>在A集群的Master机器操作</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>kubectl get pods -n fate-9999 | grep client

返回
client-5fcd4fdcfd-nqvrz           1/1     Running   0          2d1h

获取client容器ID
kubectl exec -it client-5fcd4fdcfd-nqvrz -n fate-9999 bash

flow test toy -gid 9999 -hid 10000
</code></pre></td></tr></table>
</div>
</div><p>3: Party-10000和Party-9999</p>
<p>在C集群的Master机器操作</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>kubectl get pods -n fate-10000 | grep client

返回
client-845c4df74-xbf89            1/1     Running   0          47h

获取client容器ID

kubectl exec -it client-845c4df74-xbf89  -n fate-10001 bash

flow test toy -gid 10000 -hid 9999
</code></pre></td></tr></table>
</div>
</div><p>成功显示结果</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>toy test job 202205090852477671460 is waiting
toy test job 202205090852477671460 is waiting
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is running
toy test job 202205090852477671460 is success
[INFO] [2022-05-09 08:52:53,088] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:96]: begin to init parameters of secure add example guest
[INFO] [2022-05-09 08:52:53,088] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:100]: begin to make guest data
[INFO] [2022-05-09 08:52:53,136] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:103]: split data into two random parts
[INFO] [2022-05-09 08:52:54,031] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:106]: share one random part data to host
[INFO] [2022-05-09 08:52:54,035] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:109]: get share of one random part data from host
[INFO] [2022-05-09 08:52:54,573] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:112]: begin to get sum of guest and host
[INFO] [2022-05-09 08:52:54,645] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:115]: receive host sum from guest
[INFO] [2022-05-09 08:52:54,721] [202205090852477671460] [1339:139984863901504] - [secure_add_guest.run] [line:122]: success to calculate secure_sum, it is 2000.0000000000002
</code></pre></td></tr></table>
</div>
</div><h4 id=6952-多方训练测试>6.9.5.2 多方训练测试</h4>
<p>如何两两之间互通测试通过，我们就可以跑一个三方的test_hetero_lr来测试多方的任务训练。</p>
<p>test_hetero_lr的任务需要三方参与，Guest，Host和Arbiter。我们将Party-9999作为Guest，Party-10000作为Host和Arbiter。</p>
<p>1：在Party-10000上传 host 方数据集</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>kubectl get pods -n fate-10000 | grep client

返回
client-64f7959ff5-7hvt9           1/1     Running   0          2d

获取client容器ID
kubectl exec -it client-64f7959ff5-7hvt9 -n fate-10000 bash

上传数据
flow data upload -c fateflow/examples/upload/upload_host.json
</code></pre></td></tr></table>
</div>
</div><p>2：在Party-9999上传 guest 方数据集</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>kubectl get pods -n fate-9999 | grep client

返回
client-5fcd4fdcfd-nqvrz           1/1     Running   0          2d1h

获取client容器ID
kubectl exec -it client-5fcd4fdcfd-nqvrz -n fate-9999 bash

上传数据
flow data upload -c fateflow/examples/upload/upload_guest.json
</code></pre></td></tr></table>
</div>
</div><p>3：在Party-9999发起训练任务</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>kubectl get pods -n fate-9999 | grep client

返回
client-5fcd4fdcfd-nqvrz           1/1     Running   0          2d1h

获取client容器ID
kubectl exec -it client-5fcd4fdcfd-nqvrz -n fate-9999 bash

修改文件
cat &gt; fateflow/examples/lr/test_hetero_lr_job_conf.json &lt;&lt;EOF
{
  &#34;dsl_version&#34;: &#34;2&#34;,
  &#34;initiator&#34;: {
    &#34;role&#34;: &#34;guest&#34;,
    &#34;party_id&#34;: 10004
  },
  &#34;role&#34;: {
    &#34;guest&#34;: [
      10004
    ],
    &#34;host&#34;: [
      10001
    ],
    &#34;arbiter&#34;: [
      10001
    ]
  },
  &#34;job_parameters&#34;: {
    &#34;common&#34;: {
      &#34;task_parallelism&#34;: 2,
      &#34;computing_partitions&#34;: 8,
      &#34;task_cores&#34;: 4,
      &#34;auto_retries&#34;: 1
    }
  },
  &#34;component_parameters&#34;: {
    &#34;common&#34;: {
      &#34;intersection_0&#34;: {
        &#34;intersect_method&#34;: &#34;raw&#34;,
        &#34;sync_intersect_ids&#34;: true,
        &#34;only_output_key&#34;: false
      },
      &#34;hetero_lr_0&#34;: {
        &#34;penalty&#34;: &#34;L2&#34;,
        &#34;optimizer&#34;: &#34;rmsprop&#34;,
        &#34;alpha&#34;: 0.01,
        &#34;max_iter&#34;: 3,
        &#34;batch_size&#34;: 320,
        &#34;learning_rate&#34;: 0.15,
        &#34;init_param&#34;: {
          &#34;init_method&#34;: &#34;random_uniform&#34;
        }
      }
    },
    &#34;role&#34;: {
      &#34;guest&#34;: {
        &#34;0&#34;: {
          &#34;reader_0&#34;: {
            &#34;table&#34;: {
              &#34;name&#34;: &#34;breast_hetero_guest&#34;,
              &#34;namespace&#34;: &#34;experiment&#34;
            }
          },
          &#34;dataio_0&#34;: {
            &#34;with_label&#34;: true,
            &#34;label_name&#34;: &#34;y&#34;,
            &#34;label_type&#34;: &#34;int&#34;,
            &#34;output_format&#34;: &#34;dense&#34;
          }
        }
      },
      &#34;host&#34;: {
        &#34;0&#34;: {
          &#34;reader_0&#34;: {
            &#34;table&#34;: {
              &#34;name&#34;: &#34;breast_hetero_host&#34;,
              &#34;namespace&#34;: &#34;experiment&#34;
            }
          },
          &#34;dataio_0&#34;: {
            &#34;with_label&#34;: false,
            &#34;output_format&#34;: &#34;dense&#34;
          },
          &#34;evaluation_0&#34;: {
            &#34;need_run&#34;: false
          }
        }
      }
    }
  }
}
EOF

发起训练任务
flow job submit -d fateflow/examples/lr/test_hetero_lr_job_dsl.json -c fateflow/examples/lr/test_hetero_lr_job_conf.json

返回结果
{
    &#34;data&#34;: {
        &#34;board_url&#34;: &#34;http://fateboard:8080/index.html#/dashboard?job_id=202208310748436341990&amp;role=guest&amp;party_id=10001&#34;,
        &#34;code&#34;: 0,
        &#34;dsl_path&#34;: &#34;/data/projects/fate/fateflow/jobs/202208310748436341990/job_dsl.json&#34;,
        &#34;job_id&#34;: &#34;202208310748436341990&#34;,
        &#34;logs_directory&#34;: &#34;/data/projects/fate/fateflow/logs/202208310748436341990&#34;,
        &#34;message&#34;: &#34;success&#34;,
        &#34;model_info&#34;: {
            &#34;model_id&#34;: &#34;arbiter-9006#guest-10001#host-9006#model&#34;,
            &#34;model_version&#34;: &#34;202208310748436341990&#34;
        },
        &#34;pipeline_dsl_path&#34;: &#34;/data/projects/fate/fateflow/jobs/202208310748436341990/pipeline_dsl.json&#34;,
        &#34;runtime_conf_on_party_path&#34;: &#34;/data/projects/fate/fateflow/jobs/202208310748436341990/guest/10001/job_runtime_on_party_conf.json&#34;,
        &#34;runtime_conf_path&#34;: &#34;/data/projects/fate/fateflow/jobs/202208310748436341990/job_runtime_conf.json&#34;,
        &#34;train_runtime_conf_path&#34;: &#34;/data/projects/fate/fateflow/jobs/202208310748436341990/train_runtime_conf.json&#34;
    },
    &#34;jobId&#34;: &#34;202208310748436341990&#34;,
    &#34;retcode&#34;: 0,
    &#34;retmsg&#34;: &#34;success&#34;
}
</code></pre></td></tr></table>
</div>
</div><p>4：命令查看任务结果</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>flow task query -r guest -j 202208310748436341990 | grep -w f_status
</code></pre></td></tr></table>
</div>
</div><h3 id=696-联邦推理测试>6.9.6 联邦推理测试</h3>
<p>上面已经基于hetero_lr进行多方训练，训练出模型，下面基于上面的多方训练后部署模型、加载模型、绑定模型、模型推理</p>
<h4 id=6961-部署模型>6.9.6.1 部署模型</h4>
<p>进入party-9999容器内</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>kubectl get pods -n fate-9999 | grep client

返回
client-5fcd4fdcfd-nqvrz           1/1     Running   0          2d1h

获取client容器ID
kubectl exec -it client-5fcd4fdcfd-nqvrz -n fate-9999 bash
</code></pre></td></tr></table>
</div>
</div><p>部署模型</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>flow model deploy --model-id arbiter-10000#guest-9999#host-10000#model --model-version 202205180944078730290(任务ID)

返回
{
    &#34;data&#34;: {
        &#34;arbiter&#34;: {
            &#34;9006&#34;: 0
        },
        &#34;detail&#34;: {
            &#34;arbiter&#34;: {
                &#34;9006&#34;: {
                    &#34;retcode&#34;: 0,
                    &#34;retmsg&#34;: &#34;deploy model of role arbiter 9006 success&#34;
                }
            },
            &#34;guest&#34;: {
                &#34;10001&#34;: {
                    &#34;retcode&#34;: 0,
                    &#34;retmsg&#34;: &#34;deploy model of role guest 10001 success&#34;
                }
            },
            &#34;host&#34;: {
                &#34;9006&#34;: {
                    &#34;retcode&#34;: 0,
                    &#34;retmsg&#34;: &#34;deploy model of role host 9006 success&#34;
                }
            }
        },
        &#34;guest&#34;: {
            &#34;10001&#34;: 0
        },
        &#34;host&#34;: {
            &#34;9006&#34;: 0
        },
        &#34;model_id&#34;: &#34;arbiter-9006#guest-10001#host-9006#model&#34;,
        &#34;model_version&#34;: &#34;202208310755426963170&#34;
    },
    &#34;retcode&#34;: 0,
    &#34;retmsg&#34;: &#34;success&#34;
}
</code></pre></td></tr></table>
</div>
</div><p>获取到的信息是</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>        &#34;model_id&#34;: &#34;arbiter-9006#guest-10001#host-9006#model&#34;,
        &#34;model_version&#34;: &#34;202208310755426963170&#34;
</code></pre></td></tr></table>
</div>
</div><h4 id=6962-加载模型>6.9.6.2 加载模型</h4>
<p>修改publish_load_model.json如下</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>cat &gt; fateflow/examples/model/publish_load_model.json &lt;&lt;EOF
{
  &#34;initiator&#34;: {
    &#34;party_id&#34;: &#34;10001&#34;,
    &#34;role&#34;: &#34;guest&#34;
  },
  &#34;role&#34;: {
    &#34;guest&#34;: [
      &#34;10001&#34;
    ],
    &#34;host&#34;: [
      &#34;10004&#34;
    ],
    &#34;arbiter&#34;: [
      &#34;10004&#34;
    ]
  },
  &#34;job_parameters&#34;: {
    &#34;model_id&#34;: &#34;arbiter-10004#guest-10001#host-10004#model&#34;,
    &#34;model_version&#34;: &#34;202209010444329886110&#34;
  }
}
EOF
</code></pre></td></tr></table>
</div>
</div><p>加载模型</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>flow model load -c fateflow/examples/model/publish_load_model.json

返回信息
{
    &#34;data&#34;: {
        &#34;detail&#34;: {
            &#34;guest&#34;: {
                &#34;10001&#34;: {
                    &#34;retcode&#34;: 0,
                    &#34;retmsg&#34;: &#34;success&#34;
                }
            },
            &#34;host&#34;: {
                &#34;9006&#34;: {
                    &#34;retcode&#34;: 0,
                    &#34;retmsg&#34;: &#34;success&#34;
                }
            }
        },
        &#34;guest&#34;: {
            &#34;10001&#34;: 0
        },
        &#34;host&#34;: {
            &#34;9006&#34;: 0
        }
    },
    &#34;jobId&#34;: &#34;202208310757075993710&#34;,
    &#34;retcode&#34;: 0,
    &#34;retmsg&#34;: &#34;success&#34;
}
</code></pre></td></tr></table>
</div>
</div><h4 id=6963-绑定模型>6.9.6.3 绑定模型</h4>
<p>修改版定模型配置</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>cat &gt; fateflow/examples/model/bind_model_service.json &lt;&lt;EOF
{
    &#34;service_id&#34;: &#34;201&#34;,
    &#34;initiator&#34;: {
        &#34;party_id&#34;: &#34;10001&#34;,
        &#34;role&#34;: &#34;guest&#34;
    },
    &#34;role&#34;: {
        &#34;guest&#34;: [&#34;10001&#34;],
        &#34;host&#34;: [&#34;10004&#34;],
        &#34;arbiter&#34;: [&#34;10004&#34;]
    },
    &#34;job_parameters&#34;: {
        &#34;work_mode&#34;: 1,
        &#34;model_id&#34;: &#34;arbiter-10004#guest-10001#host-10004#model&#34;,
        &#34;model_version&#34;: &#34;202209010444329886110&#34;
    }
}
EOF
</code></pre></td></tr></table>
</div>
</div><p>绑定模型</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>flow model bind -c fateflow/examples/model/bind_model_service.json

返回信息
{
    &#34;retcode&#34;: 0,
    &#34;retmsg&#34;: &#34;service id is test03&#34;
}
</code></pre></td></tr></table>
</div>
</div><h4 id=6964-联邦推理>6.9.6.4 联邦推理</h4>
<p>配置party-10000的ingressHost</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>sudo vi /etc/hosts

增加一行
10.0.1.199 9999.serving-proxy.sj.pclab

10.0.1.199 为partry-9999所在集群的Master节点IP，请根据集群IP进行修改
</code></pre></td></tr></table>
</div>
</div><h5 id=69641-单笔推理>6.9.6.4.1 单笔推理</h5>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>curl -X POST -H &#39;Content-Type: application/json&#39; -i &#39;http://10004.serving-proxy.204.pclab/federation/v1/inference&#39; --data &#39;{
  &#34;head&#34;: {
    &#34;serviceId&#34;: &#34;204&#34;
  },
  &#34;body&#34;: {
    &#34;featureData&#34;: {
        &#34;x0&#34;: 1.88669,
        &#34;x1&#34;: -1.359293,
        &#34;x2&#34;: 2.303601,
        &#34;x3&#34;: 2.00137,
        &#34;x4&#34;: 1.307686
    },
    &#34;sendToRemoteFeatureData&#34;: {
        &#34;phone_num&#34;: &#34;122222222&#34;
    }
  }
}&#39;
</code></pre></td></tr></table>
</div>
</div><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>curl -X POST -H &#39;Content-Type: application/json&#39; -i &#39;http://10001.serving-proxy.sh.com/federation/v1/inference&#39; --data &#39;{
  &#34;head&#34;: {
    &#34;serviceId&#34;: &#34;201&#34;
  },
  &#34;body&#34;: {
    &#34;featureData&#34;: {
        &#34;x0&#34;: 1.88669,
        &#34;x1&#34;: -1.359293,
        &#34;x2&#34;: 2.303601,
        &#34;x3&#34;: 2.00137,
        &#34;x4&#34;: 1.307686
    },
    &#34;sendToRemoteFeatureData&#34;: {
        &#34;phone_num&#34;: &#34;122222222&#34;
    }
  }
}&#39;
</code></pre></td></tr></table>
</div>
</div><p>返回</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>{&#34;retcode&#34;:0,&#34;retmsg&#34;:&#34;&#34;,&#34;data&#34;:{&#34;score&#34;:0.9983544928940998,&#34;modelId&#34;:&#34;guest#9999#arbiter-10000#guest-9999#host-10000#model&#34;,&#34;modelVersion&#34;:&#34;202205090912483804370&#34;,&#34;timestamp&#34;:1652087899953},&#34;flag&#34;:0}
</code></pre></td></tr></table>
</div>
</div><h5 id=69642-批量推理>6.9.6.4.2 批量推理</h5>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>curl -X POST -H &#39;Content-Type: application/json&#39; -i &#39;http://10004.serving-proxy.204.pclab/federation/v1/batchInference&#39; --data &#39;{
  &#34;head&#34;: {
    &#34;serviceId&#34;: &#34;204&#34;
  },
  &#34;body&#34;: {
      &#34;batchDataList&#34;: [
          {
              &#34;index&#34;: 0,
              &#34;featureData&#34;: {
                  &#34;x0&#34;: 1.88669,
                  &#34;x1&#34;: -1.359293,
                  &#34;x2&#34;: 2.303601,
                  &#34;x3&#34;: 2.00137,
                  &#34;x4&#34;: 1.307686
              },
              &#34;sendToRemoteFeatureData&#34;: {
                  &#34;device_id&#34;: &#34;aaaaa&#34;,
                  &#34;phone_num&#34;: &#34;122222222&#34;
              }
          },
          {
              &#34;index&#34;: 1,
              &#34;featureData&#34;: {
                  &#34;x0&#34;: 1.88669,
                  &#34;x1&#34;: -1.359293,
                  &#34;x2&#34;: 2.303601,
                  &#34;x3&#34;: 2.00137,
                  &#34;x4&#34;: 1.307686
              },
              &#34;sendToRemoteFeatureData&#34;: {
                  &#34;device_id&#34;: &#34;aaaaa&#34;,
                  &#34;phone_num&#34;: &#34;122222222&#34;
              }
          }
      ]
  }
}&#39;
</code></pre></td></tr></table>
</div>
</div><p>返回</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>{&#34;retcode&#34;:0,&#34;retmsg&#34;:&#34;&#34;,&#34;data&#34;:{&#34;modelId&#34;:&#34;guest#9999#arbiter-10000#guest-9999#host-10000#model&#34;,&#34;modelVersion&#34;:&#34;202205110759591171670&#34;,&#34;timestamp&#34;:1652256064349},&#34;flag&#34;:0,&#34;batchDataList&#34;:[{&#34;index&#34;:0,&#34;retcode&#34;:0,&#34;retmsg&#34;:&#34;&#34;,&#34;data&#34;:{&#34;score&#34;:0.3813935132948826}},{&#34;index&#34;:1,&#34;retcode&#34;:0,&#34;retmsg&#34;:&#34;&#34;,&#34;data&#34;:{&#34;score&#34;:0.3813935132948826}}],&#34;singleInferenceResultMap&#34;:{&#34;0&#34;:{&#34;index&#34;:0,&#34;retcode&#34;:0,&#34;retmsg&#34;:&#34;&#34;,&#34;data&#34;:{&#34;score&#34;:0.3813935132948826}},&#34;1&#34;:{&#34;index&#34;:1,&#34;retcode&#34;:0,&#34;retmsg&#34;:&#34;&#34;,&#34;data&#34;:{&#34;score&#34;:0.3813935132948826}}}}%
</code></pre></td></tr></table>
</div>
</div>
</section>
<footer class=article-footer>
<section class=article-tags>
<a href=/blog/tags/kubefate/>kubefate</a>
</section>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
<section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>
最后更新于 Aug 31, 2022 00:00 UTC
</span>
</section></footer>
</article>
<aside class=related-content--wrapper>
<h2 class=section-title>相关文章</h2>
<div class=related-content>
<div class="flex article-list--tile">
<article>
<a href=/blog/p/kubefate-api/>
<div class=article-details>
<h2 class=article-title>kubefate api</h2>
</div>
</a>
</article>
</div>
</div>
</aside>
<div class=disqus-container>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//hugo-theme-stack.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
<style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style>
<script>window.addEventListener('onColorSchemeChange',a=>{typeof DISQUS=='object'&&DISQUS.reset({reload:!0})})</script>
<footer class=site-footer>
<section class=copyright>
&copy;
2020 -
2022 我的空间
</section>
<section class=powerby>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.13.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计
<br><a href=https://beian.miit.gov.cn/ target=_blank>粤ICP备19123935号</a>
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous>
</main>
<aside class="sidebar right-sidebar sticky">
<section class="widget archives">
<div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
</div>
<h2 class="widget-title section-title">目录</h2>
<div class=widget--toc>
<nav id=TableOfContents>
<ol>
<li>
<ol>
<li>
<ol>
<li><a href=#6952-多方训练测试>6.9.5.2 多方训练测试</a></li>
</ol>
</li>
<li><a href=#696-联邦推理测试>6.9.6 联邦推理测试</a>
<ol>
<li><a href=#6961-部署模型>6.9.6.1 部署模型</a></li>
<li><a href=#6962-加载模型>6.9.6.2 加载模型</a></li>
<li><a href=#6963-绑定模型>6.9.6.3 绑定模型</a></li>
<li><a href=#6964-联邦推理>6.9.6.4 联邦推理</a></li>
</ol>
</li>
</ol>
</li>
</ol>
</nav>
</div>
</section>
</aside>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>